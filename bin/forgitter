#!/usr/bin/env ruby

require 'forgitter'
require 'forgitter/cli'

option_parser = Forgitter::CLI::OptionParser.new
options = option_parser.parse(ARGV)

options[:types] = []
options[:types] << ARGV.pop until ARGV.empty?
if options[:types].empty?
  puts option_parser.help
  exit(1)
end

runner = Forgitter::Runner.new(options)
runner.run
